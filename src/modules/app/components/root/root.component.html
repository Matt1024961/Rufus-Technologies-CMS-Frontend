<ng-container *ngIf="menuObservable | async; let menuObservableAsync">
  <mat-toolbar color="primary">
    <mat-toolbar-row fxLayoutAlign="start center">
      <a mat-icon-button (click)="toggleMainMenu()">
        <mat-icon aria-label="Main Menu Button">menu</mat-icon>
      </a>

      <span>Boiler Plate</span>
      <span fxFlex="1 1 auto"></span>
      <app-breadcrumb></app-breadcrumb>
      <app-theme></app-theme>
      <button mat-icon-button (click)="toggleUserMenu()">
        <mat-icon aria-label="User Menu Button">person</mat-icon>
      </button>
    </mat-toolbar-row>
  </mat-toolbar>

  <div fxLayout="column">
    <mat-sidenav-container
      hasBackdrop="false"
      autosize="false"
      fxFlex="0 0 calc(100vh - 64px)"
    >
      <mat-sidenav
        [opened]="menuObservableAsync.main_menu"
        mode="over"
        position="start"
        autoFocus="false"
        measureScrollOffset="100"
        fxLayout="column"
        fxFlex="25%"
        fxFlex.xs="100%"
        fxFlex.sm="100%"
        fxFlex.md="50%"
        fxFlex.lg="25%"
        fxFlex.xl="25%"
        fxFlexFill
      >
        <mat-toolbar color="primary">
          <mat-toolbar-row fxLayoutAlign="start center" fxFlex="100%">
            <button mat-icon-button (click)="toggleMainMenu()">
              <mat-icon aria-label="Main Menu Button">close</mat-icon>
            </button>
            <span>Main Menu</span>
          </mat-toolbar-row>
        </mat-toolbar>
        <app-main-menu></app-main-menu>
      </mat-sidenav>

      <mat-sidenav
        [opened]="menuObservableAsync.user_menu"
        mode="over"
        position="end"
        autoFocus="false"
        measureScrollOffset="100"
        fxLayout="column"
        fxFlex="25%"
        fxFlex.xs="100%"
        fxFlex.sm="100%"
        fxFlex.md="50%"
        fxFlex.lg="25%"
        fxFlex.xl="25%"
        fxFlexFill
      >
        <mat-toolbar color="primary">
          <mat-toolbar-row fxLayoutAlign="start center" fxFlex="100%">
            <button mat-icon-button (click)="toggleUserMenu()">
              <mat-icon aria-label="User Menu Button">close</mat-icon>
            </button>
            <span>User Menu</span>
          </mat-toolbar-row>
        </mat-toolbar>
        <app-user-menu></app-user-menu>
      </mat-sidenav>
      <mat-sidenav-content fxLayout="column" fxFlexFill>
        <div fxFlex="0 0 calc(100vh - 64px)">
          <router-outlet fxFlexFill></router-outlet>
        </div>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</ng-container>
